"use strict";(self.webpackChunkclub_velvet=self.webpackChunkclub_velvet||[]).push([[838],{9838:(W,b,l)=>{l.r(b),l.d(b,{AdminModule:()=>X});var T=l(5226),a=l.n(T),e=l(1571),m=l(2340),f=l(529);let Z=(()=>{class n{constructor(t){this.httpClient=t}add(t){return this.httpClient.post(`${m.N.backendUrl}/applied-services/`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g=(()=>{class n{constructor(t){this.httpClient=t}list(){return this.httpClient.get(`${m.N.backendUrl}/spa-services/`)}edit(t,i){return this.httpClient.patch(`${m.N.backendUrl}/spa-services/${t}/`,i)}remove(t){return this.httpClient.delete(`${m.N.backendUrl}/spa-services/${t}/`)}add(t){return this.httpClient.post(`${m.N.backendUrl}/spa-services/`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=l(2425),d=l(6895),s=l(433);let h=(()=>{class n{transform(t,i){return i&&t?n.filter(t,i):t}static filter(t,i){const o=i.toLowerCase();function c(u,V){for(let _ in u)if(null!==u[_]&&null!=u[_]&&("object"==typeof u[_]&&c(u[_],V)||u[_].toString().toLowerCase().includes(o)))return!0;return!1}return t.filter(function(u){return c(u,i)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();function A(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"option",10),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.s9C("value",t.id),e.xp6(1),e.lnq(" ",t.name," ($",t.price,") | ",t.owner__username," ")}}function M(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"option",10),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.s9C("value",t.document),e.xp6(1),e.AsE(" ",t.document," (",t.alias,") ")}}let y=(()=>{class n{constructor(t,i,o){this.appliedService=t,this.spaServicesService=i,this.clientService=o,this.spaServices=[],this.clients=[],this.form={service:null,client:null}}ngOnInit(){this.getSpaServices(),this.getClients()}getClients(){this.clientService.list().subscribe({next:t=>{this.clients=t}})}getSpaServices(){this.spaServicesService.list().subscribe({next:t=>{this.spaServices=t}})}applyService(){a().fire({title:`\xbfAplicar servicio a ${this.form.client}?`,showDenyButton:!0,confirmButtonText:"\xa1Aplicar!",customClass:{denyButton:"order-1",confirmButton:"order-2"}}).then(t=>{if(t.isConfirmed){const i={...this.form};this.clearForm(),this.appliedService.add(i).subscribe({next:o=>{a().fire("Agregado","","success")},error:o=>{console.error(o)}})}})}clearForm(){this.form={service:null,client:null}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z),e.Y36(g),e.Y36(v.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-applied-service"]],decls:25,vars:9,consts:[[1,"container"],[1,"mt-5","mb-5"],[1,"service"],[1,"form-control",3,"ngModel","ngModelChange"],["hidden","","disabled","","selected","","value",""],[4,"ngFor","ngForOf"],[1,"client"],["type","text","placeholder","Buscar...",1,"form-control","search-box",3,"ngModel","ngModelChange"],[1,"d-flex"],[1,"btn","mt-3","mx-auto","submit-btn",3,"disabled","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"h2",1)(3,"u"),e._uU(4," Aplicar un servicio al cliente:"),e.qZA()(),e.TgZ(5,"div",2)(6,"h4")(7,"u"),e._uU(8," Servicio:"),e.qZA()(),e.TgZ(9,"select",3),e.NdJ("ngModelChange",function(c){return i.form.service=c}),e._UZ(10,"option",4),e.YNc(11,A,3,4,"ng-container",5),e.qZA()(),e._UZ(12,"br"),e.TgZ(13,"div",6)(14,"h4")(15,"u"),e._uU(16," Cliente:"),e.qZA()(),e.TgZ(17,"input",7),e.NdJ("ngModelChange",function(c){return i.filterTerm=c}),e.qZA(),e.TgZ(18,"select",3),e.NdJ("ngModelChange",function(c){return i.form.client=c}),e._UZ(19,"option",4),e.YNc(20,M,3,3,"ng-container",5),e.ALo(21,"filter"),e.qZA()(),e.TgZ(22,"div",8)(23,"button",9),e.NdJ("click",function(){return i.applyService()}),e._uU(24," \xa1Aplicar servicio \u{1f64c}! "),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngModel",i.form.service),e.xp6(2),e.Q6J("ngForOf",i.spaServices),e.xp6(6),e.Q6J("ngModel",i.filterTerm),e.xp6(1),e.Q6J("ngModel",i.form.client),e.xp6(2),e.Q6J("ngForOf",e.xi3(21,6,i.clients,i.filterTerm)),e.xp6(3),e.Q6J("disabled",!i.form.client||!i.form.service))},dependencies:[d.sg,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,h],styles:[".submit-btn[_ngcontent-%COMP%]{width:auto}.search-box[_ngcontent-%COMP%]{max-width:150px;margin-top:1rem;margin-bottom:1rem}"]}),n})();var p=l(322);const J=function(){return["/admin"]};let U=(()=>{class n{constructor(t){this.router=t,document.body.className="welcome-bg"}ngOnInit(){}logout(){a().fire({title:"\xbfCerrar sesi\xf3n?",showCancelButton:!0,confirmButtonText:"Si, cerrar sesi\xf3n",cancelButtonText:"Cancelar",customClass:{cancelButton:"order-1",confirmButton:"order-2"}}).then(t=>{t.isConfirmed&&this.router.navigate(["/auth/logout"])})}ngOnDestroy(){document.body.className=""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-base"]],decls:8,vars:2,consts:[[1,"d-flex","logout","u"],[1,"mr-3","my-auto","ml-auto",3,"routerLink"],[1,"mr-3","my-auto",3,"click"],[1,"text-center","my-5"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Home"),e.qZA(),e.TgZ(3,"span",2),e.NdJ("click",function(){return i.logout()}),e._uU(4,"Cerrar sesi\xf3n"),e.qZA()(),e.TgZ(5,"h1",3),e._uU(6,"Panel de administraci\xf3n"),e.qZA(),e._UZ(7,"router-outlet")),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,J)))},dependencies:[p.lC,p.rH],styles:[".logout[_ngcontent-%COMP%]{cursor:pointer}.u[_ngcontent-%COMP%]{text-decoration:underline}"]}),n})();function w(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.alias),e.xp6(2),e.Oqu(t.document),e.xp6(2),e.Oqu(t.points)}}let q=(()=>{class n{constructor(t){this.clientService=t,this.clients=[]}ngOnInit(){this.getClients()}getClients(){this.clientService.list().subscribe({next:t=>{this.clients=t}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-clients"]],decls:19,vars:5,consts:[[1,"container","text-center"],[1,"mt-3","mb-5"],[1,"form-group","col-6","ml-auto","px-0"],["type","text","placeholder","Buscar...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"u"),e._uU(3,"Listado de clientes:"),e.qZA()(),e.TgZ(4,"div",2)(5,"input",3),e.NdJ("ngModelChange",function(c){return i.filterTerm=c}),e.qZA()(),e.TgZ(6,"div",4)(7,"table",5)(8,"thead",6)(9,"tr")(10,"th",7),e._uU(11,"Alias"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"Documento"),e.qZA(),e.TgZ(14,"th",7),e._uU(15,"Puntos"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,w,7,3,"tr",8),e.ALo(18,"filter"),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("ngModel",i.filterTerm),e.xp6(12),e.Q6J("ngForOf",e.xi3(18,2,i.clients,i.filterTerm)))},dependencies:[d.sg,s.Fj,s.JJ,s.On,h]}),n})(),N=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}routeTo(t){this.router.navigate([`${t}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],decls:27,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-5","box","shadow","mt-3","mt-md-0",3,"click"],["src","assets/imgs/circle-plus.png","alt","",1,"img-fluid"],[1,"box__title"],[1,"col-5","box","shadow","ml-md-3","mt-3","mt-md-0",3,"click"],["src","assets/imgs/nails.png","alt","",1,"img-fluid"],[1,"col-5","box","shadow","mt-3",3,"click"],["src","assets/imgs/group.png","alt","",1,"img-fluid"],[1,"col-5","box","shadow","ml-md-3","mt-3",3,"click"],["src","assets/imgs/gift.png","alt","",1,"img-fluid"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return i.routeTo("./admin/applied-services")}),e._UZ(3,"img",3)(4,"br")(5,"br"),e.TgZ(6,"span",4),e._uU(7," Nuevo "),e.qZA()(),e.TgZ(8,"div",5),e.NdJ("click",function(){return i.routeTo("./admin/spa-services")}),e._UZ(9,"img",6)(10,"br")(11,"br"),e.TgZ(12,"span",4),e._uU(13," Servicios "),e.qZA()()(),e.TgZ(14,"div",1)(15,"div",7),e.NdJ("click",function(){return i.routeTo("./admin/clients")}),e._UZ(16,"img",8)(17,"br")(18,"br"),e.TgZ(19,"span",4),e._uU(20," Clientes "),e.qZA()(),e.TgZ(21,"div",9),e.NdJ("click",function(){return i.routeTo("./admin/rewards")}),e._UZ(22,"img",10)(23,"br")(24,"br"),e.TgZ(25,"span",4),e._uU(26," Premios "),e.qZA()()()())},styles:[".box[_ngcontent-%COMP%]{border-style:solid;border-radius:30px;max-width:300px;border-color:#fff;padding:2rem;text-align:center;margin-left:auto;margin-right:auto;color:#000;background-color:#e093ad;overflow:hidden;border-color:#e093ad;cursor:pointer}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:150px}.box__title[_ngcontent-%COMP%]{font-size:1.5rem}.box[_ngcontent-%COMP%]:hover{background-color:#f48fb1;border-color:#e093ad;transition:background .5s linear .1s,color .5s linear 0s}"]}),n})(),C=(()=>{class n{constructor(t){this.httpClient=t}list(){return this.httpClient.get(`${m.N.backendUrl}/users/`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div")(9,"img",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.remove(o.id))}),e.qZA(),e.TgZ(10,"img",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.edit(o))}),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.price),e.xp6(2),e.Oqu(t.owner__username)}}function F(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"option",19),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.username)}}function O(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"td")(2,"input",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw(3);return e.KtG(c.form.name=o)}),e.qZA()(),e.TgZ(3,"td")(4,"input",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw(3);return e.KtG(c.form.price=o)}),e.qZA()(),e.TgZ(5,"td")(6,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw(3);return e.KtG(c.form.owner=o)}),e.YNc(7,F,3,1,"ng-container",10),e.qZA()(),e.TgZ(8,"td"),e._uU(9,"-"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.form.name),e.xp6(2),e.Q6J("ngModel",t.form.price),e.xp6(2),e.Q6J("ngModel",t.form.owner),e.xp6(1),e.Q6J("ngForOf",t.users)}}function L(n,r){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,k,11,3,"ng-container",13),e.YNc(2,O,10,4,"ng-container",13),e.qZA()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.selectedEditableSpaServiceId),e.xp6(1),e.Q6J("ngIf",i.selectedEditableSpaServiceId==t.id)}}function Q(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.cancel())}),e._uU(2," Cancelar "),e.qZA(),e.TgZ(3,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.confirmEdition())}),e._uU(4," Confirmar edici\xf3n "),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",!t.form.name||!t.form.price||!t.form.owner)}}const S=function(){return["./create"]};function Y(n,r){1&n&&(e.TgZ(0,"a",23),e._uU(1,"Crear nuevo servicio"),e.qZA()),2&n&&e.Q6J("routerLink",e.DdM(1,S))}function B(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"input",5),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.filterTerm=o)}),e.qZA()(),e.TgZ(3,"div",6)(4,"table",7)(5,"thead",8)(6,"tr")(7,"th",9),e._uU(8,"Servicio"),e.qZA(),e.TgZ(9,"th",9),e._uU(10,"Precio"),e.qZA(),e.TgZ(11,"th",9),e._uU(12,"Prestador"),e.qZA(),e.TgZ(13,"th",9),e._uU(14,"Acciones"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,L,3,2,"tr",10),e.ALo(17,"filter"),e.qZA()()(),e.YNc(18,Q,5,1,"div",11),e.YNc(19,Y,2,2,"a",12),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.filterTerm),e.xp6(14),e.Q6J("ngForOf",e.xi3(17,4,t.spaServices,t.filterTerm)),e.xp6(2),e.Q6J("ngIf",null!=t.selectedEditableSpaServiceId),e.xp6(1),e.Q6J("ngIf",null==t.selectedEditableSpaServiceId)}}function I(n,r){1&n&&(e.TgZ(0,"h3",24),e._uU(1,"A\xfan no hay servicios agregados...\u{1f914}"),e.qZA(),e.TgZ(2,"button",25),e._uU(3," Agregar "),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(1,S)))}let P=(()=>{class n{constructor(t,i){this.spaServicesService=t,this.userService=i,this.spaServices=[],this.users=[],this.form={owner:null,name:null,price:null},this.selectedEditableSpaServiceId=null}ngOnInit(){this.getSpaServices(),this.userService.list().subscribe({next:t=>{this.users=t}})}getSpaServices(){this.spaServicesService.list().subscribe({next:t=>{this.spaServices=t}})}remove(t){a().fire({title:"\xbfEliminar servicio?",showDenyButton:!0,confirmButtonText:"Eliminar"}).then(i=>{i.isConfirmed&&this.spaServicesService.remove(t).subscribe({next:()=>{a().fire("Eliminado","","success"),this.getSpaServices()},error:o=>{console.error(o)}})})}edit(t){this.selectedEditableSpaServiceId=t.id,this.form=t}confirmEdition(){const t={...this.form};a().showLoading(),this.spaServicesService.edit(this.selectedEditableSpaServiceId,t).subscribe({next:()=>{a().close(),this.clear()},error:i=>{a().close(),this.clear()}})}clear(){this.selectedEditableSpaServiceId=null,this.form={owner:null,name:null,price:null}}cancel(){this.clear()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g),e.Y36(C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list"]],decls:7,vars:2,consts:[[1,"container","text-center"],[1,"mt-3","mb-5"],[4,"ngIf","ngIfElse"],["noItems",""],[1,"form-group","col-6","ml-auto","px-0"],["type","text","placeholder","Buscar...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"],["class","edit-mode-on d-flex text-center mb-5",4,"ngIf"],["class","btn",3,"routerLink",4,"ngIf"],[4,"ngIf"],["src","assets/imgs/delete.png","alt","delete",1,"actions",3,"click"],["src","assets/imgs/edit.png","alt","edit",1,"ml-3","actions",3,"click"],["type","text","placeholder","Nombre",3,"ngModel","ngModelChange"],["type","text","placeholder","Precio",3,"ngModel","ngModelChange"],["ngDefaultControl","",3,"ngModel","ngModelChange"],["value","item.id"],[1,"edit-mode-on","d-flex","text-center","mb-5"],[1,"btn","custom-btn","mx-auto",3,"click"],[1,"btn","custom-btn","mx-auto",3,"disabled","click"],[1,"btn",3,"routerLink"],[1,"mt-5"],[1,"btn","mt-5","mt-sm-0",3,"routerLink"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"u"),e._uU(3,"Listado de servicios:"),e.qZA()(),e.YNc(4,B,20,7,"ng-container",2),e.YNc(5,I,4,2,"ng-template",null,3,e.W1O),e.qZA()),2&t){const o=e.MAs(6);e.xp6(4),e.Q6J("ngIf",i.spaServices.length>0)("ngIfElse",o)}},dependencies:[p.rH,p.yS,d.sg,d.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,h],styles:[".custom-btn[_ngcontent-%COMP%]{width:auto}.actions[_ngcontent-%COMP%]{max-width:25px;cursor:pointer}input[_ngcontent-%COMP%]{letter-spacing:1px;font-size:1rem}"]}),n})();function D(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"option",10),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.s9C("value",t.id),e.xp6(1),e.lnq(" ",t.name," ($",t.price,") | ",t.owner__username," ")}}function E(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"option",10),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.s9C("value",t.document),e.xp6(1),e.AsE(" ",t.document," (",t.alias,") ")}}let $=(()=>{class n{constructor(t,i,o){this.appliedService=t,this.spaServicesService=i,this.clientService=o,this.spaServices=[],this.clients=[],this.form={service:null,client:null}}ngOnInit(){this.getSpaServices(),this.getClients()}getClients(){this.clientService.list().subscribe({next:t=>{this.clients=t}})}getSpaServices(){this.spaServicesService.list().subscribe({next:t=>{this.spaServices=t}})}applyService(){a().fire({title:`\xbfAplicar servicio a ${this.form.client}?`,showDenyButton:!0,confirmButtonText:"\xa1Aplicar!",customClass:{denyButton:"order-1",confirmButton:"order-2"}}).then(t=>{if(t.isConfirmed){const i={...this.form};this.clearForm(),this.appliedService.add(i).subscribe({next:o=>{a().fire("Agregado","","success")},error:o=>{console.error(o)}})}})}clearForm(){this.form={service:null,client:null}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z),e.Y36(g),e.Y36(v.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-rewards"]],decls:25,vars:9,consts:[[1,"container"],[1,"mt-5","mb-5"],[1,"service"],[1,"form-control",3,"ngModel","ngModelChange"],["hidden","","disabled","","selected","","value",""],[4,"ngFor","ngForOf"],[1,"client"],["type","text","placeholder","Buscar...",1,"form-control","search-box",3,"ngModel","ngModelChange"],[1,"d-flex"],[1,"btn","mt-3","mx-auto","submit-btn",3,"disabled","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"h2",1)(3,"u"),e._uU(4," Canjear un premio:"),e.qZA()(),e.TgZ(5,"div",2)(6,"h4")(7,"u"),e._uU(8," Servicio:"),e.qZA()(),e.TgZ(9,"select",3),e.NdJ("ngModelChange",function(c){return i.form.service=c}),e._UZ(10,"option",4),e.YNc(11,D,3,4,"ng-container",5),e.qZA()(),e._UZ(12,"br"),e.TgZ(13,"div",6)(14,"h4")(15,"u"),e._uU(16," Cliente:"),e.qZA()(),e.TgZ(17,"input",7),e.NdJ("ngModelChange",function(c){return i.filterTerm=c}),e.qZA(),e.TgZ(18,"select",3),e.NdJ("ngModelChange",function(c){return i.form.client=c}),e._UZ(19,"option",4),e.YNc(20,E,3,3,"ng-container",5),e.ALo(21,"filter"),e.qZA()(),e.TgZ(22,"div",8)(23,"button",9),e.NdJ("click",function(){return i.applyService()}),e._uU(24," \xa1Aplicar servicio \u{1f64c}! "),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngModel",i.form.service),e.xp6(2),e.Q6J("ngForOf",i.spaServices),e.xp6(6),e.Q6J("ngModel",i.filterTerm),e.xp6(1),e.Q6J("ngModel",i.form.client),e.xp6(2),e.Q6J("ngForOf",e.xi3(21,6,i.clients,i.filterTerm)),e.xp6(3),e.Q6J("disabled",!i.form.client||!i.form.service))},dependencies:[d.sg,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,h],styles:[".submit-btn[_ngcontent-%COMP%]{width:auto}.search-box[_ngcontent-%COMP%]{max-width:150px;margin-top:1rem;margin-bottom:1rem}"]}),n})();var R=l(5851);function G(n,r){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.username," ")}}const j=[{path:"",component:U,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:N},{path:"spa-services",component:P},{path:"spa-services/create",component:(()=>{class n{constructor(t,i,o,c){this.fb=t,this.userService=i,this.spaServicesService=o,this.router=c,this.users=[],this.form=this.fb.group({name:["",s.kI.required],owner:["",s.kI.required],price:["",[s.kI.required,s.kI.minLength(0)]]})}onSubmit(){this.form.valid&&(a().showLoading(),this.spaServicesService.add(this.form.value).subscribe({next:()=>{a().hideLoading(),a().fire("Servicio agregado","","success"),this.router.navigate(["./admin/spa-services"])}}))}ngOnInit(){this.userService.list().subscribe({next:t=>{this.users=t}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(C),e.Y36(g),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-spa-services"]],decls:23,vars:3,consts:[[1,"container","text-center"],[1,"mt-3","mb-5"],[3,"formGroup","ngSubmit"],[1,"group"],["type","text","required","","formControlName","name"],[1,"highlight"],[1,"bar"],[1,"group","mt-5"],["formControlName","owner","required","",1,"w-100"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","price","minlength","0","OnlyNumber","true","required",""],["type","submit",1,"btn","float-right","mt-3",3,"disabled"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"u"),e._uU(3," Agregar un servicio"),e.qZA()(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(5,"div",3),e._UZ(6,"input",4)(7,"span",5)(8,"span",6),e.TgZ(9,"label"),e._uU(10,"Nombre"),e.qZA()(),e.TgZ(11,"div",7)(12,"select",8),e._uU(13," Profesional "),e.YNc(14,G,2,2,"option",9),e.qZA()(),e.TgZ(15,"div",7),e._UZ(16,"input",10)(17,"span",5)(18,"span",6),e.TgZ(19,"label"),e._uU(20,"Precio"),e.qZA()(),e.TgZ(21,"button",11),e._uU(22," Registrar servicio "),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(10),e.Q6J("ngForOf",i.users),e.xp6(7),e.Q6J("disabled",!i.form.valid))},dependencies:[R.n,d.sg,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.sg,s.u],styles:["select[_ngcontent-%COMP%]{height:3rem}.title[_ngcontent-%COMP%]{color:#fff}"]}),n})()},{path:"applied-services",component:y},{path:"clients",component:q},{path:"rewards",component:$}]}];let K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(j),p.Bz]}),n})();var H=l(2117),z=l(2271);let X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[C,g,{provide:f.TP,useClass:H.s,multi:!0}],imports:[K,z.m,d.ez,s.u5,s.UX,x]}),n})()}}]);