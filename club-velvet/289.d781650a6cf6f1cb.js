"use strict";(self.webpackChunkclub_velvet=self.webpackChunkclub_velvet||[]).push([[289],{4289:($,f,l)=>{l.r(f),l.d(f,{AdminModule:()=>D});var h=l(5226),a=l.n(h),e=l(1571),m=l(2340),d=l(529);let C=(()=>{class n{constructor(t){this.httpClient=t}add(t){return this.httpClient.post(`${m.N.backendUrl}/applied-services/`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(d.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g=(()=>{class n{constructor(t){this.httpClient=t}list(){return this.httpClient.get(`${m.N.backendUrl}/spa-services/`)}edit(t,i){return this.httpClient.patch(`${m.N.backendUrl}/spa-services/${t}/`,i)}remove(t){return this.httpClient.delete(`${m.N.backendUrl}/spa-services/${t}/`)}add(t){return this.httpClient.post(`${m.N.backendUrl}/spa-services/`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(d.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b=l(2425),u=l(6895),s=l(433);function x(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"option",9),e._uU(2),e.qZA(),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.s9C("value",t.id),e.xp6(1),e.lnq(" ",t.name," ($",t.price,") | ",t.owner__username," ")}}function S(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"option",9),e._uU(2),e.qZA(),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.s9C("value",t.document),e.xp6(1),e.AsE(" ",t.document," (",t.alias,") ")}}let Z=(()=>{class n{constructor(t,i,r){this.appliedService=t,this.spaServicesService=i,this.clientService=r,this.spaServices=[],this.clients=[],this.form={service:null,client:null}}ngOnInit(){this.getSpaServices(),this.getClients()}getClients(){this.clientService.list().subscribe({next:t=>{this.clients=t}})}getSpaServices(){this.spaServicesService.list().subscribe({next:t=>{this.spaServices=t}})}applyService(){a().fire({title:`\xbfAplicar servicio a ${this.form.client}?`,showDenyButton:!0,confirmButtonText:"\xa1Aplicar!",customClass:{denyButton:"order-1",confirmButton:"order-2"}}).then(t=>{if(t.isConfirmed){const i={...this.form};this.clearForm(),this.appliedService.add(i).subscribe({next:r=>{a().fire("Agregado","","success")},error:r=>{console.error(r)}})}})}clearForm(){this.form={service:null,client:null}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C),e.Y36(g),e.Y36(b.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-applied-service"]],decls:23,vars:5,consts:[[1,"container"],[1,"mt-5","mb-5"],[1,"service"],[1,"form-control",3,"ngModel","ngModelChange"],["hidden","","disabled","","selected","","value",""],[4,"ngFor","ngForOf"],[1,"client"],[1,"d-flex"],[1,"btn","mt-3","mx-auto","submit-btn",3,"disabled","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"h2",1)(3,"u"),e._uU(4," Aplicar un servicio al cliente:"),e.qZA()(),e.TgZ(5,"div",2)(6,"h4")(7,"u"),e._uU(8," Servicio:"),e.qZA()(),e.TgZ(9,"select",3),e.NdJ("ngModelChange",function(c){return i.form.service=c}),e._UZ(10,"option",4),e.YNc(11,x,3,4,"ng-container",5),e.qZA()(),e._UZ(12,"br"),e.TgZ(13,"div",6)(14,"h4")(15,"u"),e._uU(16," Cliente:"),e.qZA()(),e.TgZ(17,"select",3),e.NdJ("ngModelChange",function(c){return i.form.client=c}),e._UZ(18,"option",4),e.YNc(19,S,3,3,"ng-container",5),e.qZA()(),e.TgZ(20,"div",7)(21,"button",8),e.NdJ("click",function(){return i.applyService()}),e._uU(22," \xa1Aplicar servicio \u{1f64c}! "),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngModel",i.form.service),e.xp6(2),e.Q6J("ngForOf",i.spaServices),e.xp6(6),e.Q6J("ngModel",i.form.client),e.xp6(2),e.Q6J("ngForOf",i.clients),e.xp6(2),e.Q6J("disabled",!i.form.client||!i.form.service))},dependencies:[u.sg,s.YN,s.Kr,s.EJ,s.JJ,s.On],styles:[".submit-btn[_ngcontent-%COMP%]{width:auto}"]}),n})();var p=l(322);let T=(()=>{class n{constructor(){document.body.className="welcome-bg"}ngOnInit(){}ngOnDestroy(){document.body.className=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-base"]],decls:3,vars:0,consts:[[1,"text-center","my-3"]],template:function(t,i){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Panel de administraci\xf3n"),e.qZA(),e._UZ(2,"router-outlet"))},dependencies:[p.lC]}),n})(),M=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-clients"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"clients works!"),e.qZA())}}),n})(),A=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}routeTo(t){this.router.navigate([`${t}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],decls:27,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-5","box","shadow","mt-3","mt-md-0",3,"click"],["src","assets/imgs/circle-plus.png","alt","",1,"img-fluid"],[1,"box__title"],[1,"col-5","box","shadow","ml-md-3","mt-3","mt-md-0",3,"click"],["src","assets/imgs/nails.png","alt","",1,"img-fluid"],[1,"col-5","box","shadow","mt-3",3,"click"],["src","assets/imgs/group.png","alt","",1,"img-fluid"],[1,"col-5","box","shadow","mt-3","ml-md-3"],["src","assets/imgs/history.png","alt","",1,"img-fluid"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return i.routeTo("./admin/applied-services")}),e._UZ(3,"img",3)(4,"br")(5,"br"),e.TgZ(6,"span",4),e._uU(7," Nuevo "),e.qZA()(),e.TgZ(8,"div",5),e.NdJ("click",function(){return i.routeTo("./admin/spa-services")}),e._UZ(9,"img",6)(10,"br")(11,"br"),e.TgZ(12,"span",4),e._uU(13," Servicios "),e.qZA()()(),e.TgZ(14,"div",1)(15,"div",7),e.NdJ("click",function(){return i.routeTo("./admin/clients")}),e._UZ(16,"img",8)(17,"br")(18,"br"),e.TgZ(19,"span",4),e._uU(20," Clientes "),e.qZA()(),e.TgZ(21,"div",9),e._UZ(22,"img",10)(23,"br")(24,"br"),e.TgZ(25,"span",4),e._uU(26," Historial "),e.qZA()()()())},styles:[".box[_ngcontent-%COMP%]{border-style:solid;border-radius:30px;max-width:300px;border-color:#fff;padding:2rem;text-align:center;margin-left:auto;margin-right:auto;color:#000;background-color:#e093ad;overflow:hidden;border-color:#e093ad;cursor:pointer}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:150px}.box__title[_ngcontent-%COMP%]{font-size:1.5rem}.box[_ngcontent-%COMP%]:hover{background-color:#f48fb1;border-color:#e093ad;transition:background .5s linear .1s,color .5s linear 0s}"]}),n})(),_=(()=>{class n{constructor(t){this.httpClient=t}list(){return this.httpClient.get(`${m.N.backendUrl}/users/`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(d.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",10)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div",11),e._uU(5),e.qZA()(),e.TgZ(6,"div",12)(7,"div",13),e._uU(8," Prestador: "),e.TgZ(9,"span"),e._uU(10),e.qZA()(),e.TgZ(11,"img",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.remove(r.id))}),e.qZA(),e.TgZ(12,"img",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.edit(r))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij("$",t.price,""),e.xp6(2),e.Oqu(t.name),e.xp6(5),e.Oqu(t.owner__username)}}function k(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"option",21),e._uU(2),e.qZA(),e.BQk()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.username," ")}}function y(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",10),e._uU(2," $"),e.TgZ(3,"input",16),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw(3);return e.KtG(c.form.price=r)}),e.qZA(),e.TgZ(4,"textarea",17),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw(3);return e.KtG(c.form.name=r)}),e.qZA()(),e.TgZ(5,"div",12)(6,"div",18),e._uU(7," Prestador: "),e.TgZ(8,"select",19),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw(3);return e.KtG(c.form.owner=r)}),e.YNc(9,k,3,1,"ng-container",20),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.form.price),e.xp6(1),e.Q6J("ngModel",t.form.name),e.xp6(4),e.Q6J("ngModel",t.form.owner),e.xp6(1),e.Q6J("ngForOf",t.users)}}function U(n,o){if(1&n&&(e.TgZ(0,"li",8),e.YNc(1,O,13,3,"ng-container",9),e.YNc(2,y,10,4,"ng-container",9),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.selectedEditableSpaServiceId),e.xp6(1),e.Q6J("ngIf",i.selectedEditableSpaServiceId==t.id)}}function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancel())}),e._uU(2," Cancelar "),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.confirmEdition())}),e._uU(4," Confirmar edici\xf3n "),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",!t.form.name||!t.form.price||!t.form.owner)}}const v=function(){return["./create"]};function J(n,o){1&n&&(e.TgZ(0,"a",25),e._uU(1,"Crear nuevo servicio"),e.qZA()),2&n&&e.Q6J("routerLink",e.DdM(1,v))}function w(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"ul",4),e.YNc(2,U,3,2,"li",5),e.qZA(),e.YNc(3,P,5,1,"div",6),e.YNc(4,J,2,2,"a",7),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.spaServices),e.xp6(1),e.Q6J("ngIf",null!=t.selectedEditableSpaServiceId),e.xp6(1),e.Q6J("ngIf",null==t.selectedEditableSpaServiceId)}}function N(n,o){1&n&&(e.TgZ(0,"h3",26),e._uU(1,"A\xfan no hay servicios agregados...\u{1f914}"),e.qZA(),e.TgZ(2,"button",27),e._uU(3," Agregar "),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(1,v)))}let F=(()=>{class n{constructor(t,i){this.spaServicesService=t,this.userService=i,this.spaServices=[],this.users=[],this.form={owner:null,name:null,price:null},this.selectedEditableSpaServiceId=null}ngOnInit(){this.getSpaServices(),this.userService.list().subscribe({next:t=>{this.users=t}})}getSpaServices(){this.spaServicesService.list().subscribe({next:t=>{this.spaServices=t}})}remove(t){a().fire({title:"\xbfEliminar servicio?",showDenyButton:!0,confirmButtonText:"Eliminar"}).then(i=>{i.isConfirmed&&this.spaServicesService.remove(t).subscribe({next:()=>{a().fire("Eliminado","","success"),this.getSpaServices()},error:r=>{console.error(r)}})})}edit(t){this.selectedEditableSpaServiceId=t.id,this.form=t}confirmEdition(){const t={...this.form};a().showLoading(),this.spaServicesService.edit(this.selectedEditableSpaServiceId,t).subscribe({next:()=>{a().close(),this.clear()},error:i=>{a().close(),this.clear()}})}clear(){this.selectedEditableSpaServiceId=null,this.form={owner:null,name:null,price:null}}cancel(){this.clear()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g),e.Y36(_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list"]],decls:7,vars:2,consts:[[1,"container","text-center"],[1,"mt-3","mb-5"],[4,"ngIf","ngIfElse"],["noItems",""],[1,"task-items","d-flex-inline"],["class","item type1 mx-auto",4,"ngFor","ngForOf"],["class","edit-mode-on d-flex text-center mb-5",4,"ngIf"],["class","btn",3,"routerLink",4,"ngIf"],[1,"item","type1","mx-auto"],[4,"ngIf"],[1,"task"],[1,"name","icon","ml-3"],[1,"ml-auto","d-flex"],[1,"user","mr-5"],["src","assets/imgs/delete.png","alt","delete",1,"actions",3,"click"],["src","assets/imgs/edit.png","alt","edit",1,"ml-3","actions",3,"click"],["ngDefaultControl","","type","text","placeholder","precio",3,"ngModel","ngModelChange"],["ngDefaultControl","","type","text","placeholder","nombre del servicio",1,"ml-3",3,"ngModel","ngModelChange"],[1,"user","mx-auto"],["ngDefaultControl","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["value","item.id"],[1,"edit-mode-on","d-flex","text-center","mb-5"],[1,"btn","custom-btn","mx-auto",3,"click"],[1,"btn","custom-btn","mx-auto",3,"disabled","click"],[1,"btn",3,"routerLink"],[1,"mt-5"],[1,"btn","mt-5","mt-sm-0",3,"routerLink"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"u"),e._uU(3,"Listado de servicios:"),e.qZA()(),e.YNc(4,w,5,3,"ng-container",2),e.YNc(5,N,4,2,"ng-template",null,3,e.W1O),e.qZA()),2&t){const r=e.MAs(6);e.xp6(4),e.Q6J("ngIf",i.spaServices.length>0)("ngIfElse",r)}},dependencies:[p.rH,p.yS,u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On],styles:[".custom-btn[_ngcontent-%COMP%]{width:150px}ul.task-items[_ngcontent-%COMP%]{list-style:none;justify-content:center}ul.task-items[_ngcontent-%COMP%]   li.item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20px 0;padding:20px;background:#fff;border-radius:5px;box-shadow:0 0 5px 2px #0000001a}ul.task-items[_ngcontent-%COMP%]   li.item.type1[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#f48fb1}ul.task-items[_ngcontent-%COMP%]   li.item[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{display:flex;align-items:center}ul.task-items[_ngcontent-%COMP%]   li.item[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{background:#eeeeee;padding:.3rem;margin-left:20px;border-radius:15px}ul.task-items[_ngcontent-%COMP%]   li.item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1em;color:#2e7d32;margin-left:30px}ul.task-items[_ngcontent-%COMP%]   li.item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#2e7d32;margin-right:10px;width:14px;height:14px;border-radius:50%}ul.task-items[_ngcontent-%COMP%]   li.item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .icon.risk[_ngcontent-%COMP%]{background:red}ul.task-items[_ngcontent-%COMP%]   li.item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffa000}ul.task-items[_ngcontent-%COMP%]   li.item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .icon.off[_ngcontent-%COMP%]{background:#bf360c}.actions[_ngcontent-%COMP%]{max-width:25px;cursor:pointer}input[_ngcontent-%COMP%]{letter-spacing:1px;font-size:1rem}"]}),n})();var q=l(5851);function I(n,o){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.username," ")}}const L=[{path:"",component:T,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:A},{path:"spa-services",component:F},{path:"spa-services/create",component:(()=>{class n{constructor(t,i,r,c){this.fb=t,this.userService=i,this.spaServicesService=r,this.router=c,this.users=[],this.form=this.fb.group({name:["",s.kI.required],owner:["",s.kI.required],price:["",[s.kI.required,s.kI.minLength(0)]]})}onSubmit(){this.form.valid&&(a().showLoading(),this.spaServicesService.add(this.form.value).subscribe({next:()=>{a().hideLoading(),a().fire("Servicio agregado","","success"),this.router.navigate(["./admin/spa-services"])}}))}ngOnInit(){this.userService.list().subscribe({next:t=>{this.users=t}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(_),e.Y36(g),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-spa-services"]],decls:23,vars:3,consts:[[1,"container","text-center"],[1,"mt-3","mb-5"],[3,"formGroup","ngSubmit"],[1,"group"],["type","text","required","","formControlName","name"],[1,"highlight"],[1,"bar"],[1,"group","mt-5"],["formControlName","owner","required","",1,"w-100"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","price","minlength","0","OnlyNumber","true","required",""],["type","submit",1,"btn","float-right","mt-3",3,"disabled"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"u"),e._uU(3," Agregar un servicio"),e.qZA()(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(5,"div",3),e._UZ(6,"input",4)(7,"span",5)(8,"span",6),e.TgZ(9,"label"),e._uU(10,"Nombre"),e.qZA()(),e.TgZ(11,"div",7)(12,"select",8),e._uU(13," Profesional "),e.YNc(14,I,2,2,"option",9),e.qZA()(),e.TgZ(15,"div",7),e._UZ(16,"input",10)(17,"span",5)(18,"span",6),e.TgZ(19,"label"),e._uU(20,"Precio"),e.qZA()(),e.TgZ(21,"button",11),e._uU(22," Registrar servicio "),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(10),e.Q6J("ngForOf",i.users),e.xp6(7),e.Q6J("disabled",!i.form.valid))},dependencies:[q.n,u.sg,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.sg,s.u],styles:["select[_ngcontent-%COMP%]{height:3rem}.title[_ngcontent-%COMP%]{color:#fff}"]}),n})()},{path:"applied-services",component:Z},{path:"clients",component:M}]}];let Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(L),p.Bz]}),n})();var Y=l(2117),E=l(2271);let D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[_,g,{provide:d.TP,useClass:Y.s,multi:!0}],imports:[Q,E.m,u.ez,s.u5,s.UX]}),n})()}}]);